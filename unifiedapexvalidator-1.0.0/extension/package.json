{
  "name": "unifiedapexvalidator",
  "displayName": "Unified Apex Validator",
  "description": "Salesforce Apex validation and reporting suite built natively in TypeScript for VS Code.",
  "publisher": "ozkrgonzalez",
  "version": "1.0.0",
  "icon": "media/icon.png",
  "license": "GPL-3.0-only",
  "repository": "https://github.com/ozkrgonzalez/UnifiedApexValidator.git",
  "engines": {
    "vscode": "^1.104.0"
  },
  "main": "./dist/extension.js",
  "scripts": {
    "clean": "rimraf dist node_modules *.vsix",
    "compile": "tsc -p .",
    "bundle": "esbuild src/extension.ts --bundle --platform=node --external:vscode --outdir=dist --format=cjs",
    "copy-resources": "mkdir -p dist/resources && cp -r src/resources/* dist/resources/ || xcopy src\\resources dist\\resources /E /I /Y",
    "build": "npm run clean && npm install && npm run compile && npm run bundle && npm run copy-resources",
    "package": "npm run build && npm install --omit=dev && vsce package"
  },
  "activationEvents": [
    "onCommand:UnifiedApexValidator.validateApex",
    "onLanguage:xml"
  ],
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "uav",
          "title": "Unified Apex Validator",
          "icon": "media/apex-icon.svg"
        }
      ]
    },
    "views": {
      "uav": [
        {
          "id": "uav.reportsView",
          "name": "Reportes"
        }
      ]
    },
    "commands": [
      {
        "command": "UnifiedApexValidator.validateApex",
        "title": "UAV: Validate Apex Code"
      }
    ],
    "menus": {
      "explorer/context": [
        {
          "command": "UnifiedApexValidator.validateApex",
          "when": "resourceExtname == .xml && resourceFilename =~ /package\\.xml$/",
          "group": "z_unifiedApex@1"
        }
      ],
      "editor/context": [
        {
          "command": "UnifiedApexValidator.validateApex",
          "when": "resourceExtname == .xml && editorLangId == 'xml'",
          "group": "z_unifiedApex@2"
        }
      ]
    },
    "configuration": {
      "title": "Unified Apex Validator Settings",
      "properties": {
        "UnifiedApexValidator.sfUsername": {
          "type": "string",
          "default": "",
          "description": "Usuario de Salesforce"
        },
        "UnifiedApexValidator.sfPassword": {
          "type": "string",
          "default": "",
          "description": "Contraseña de Salesforce"
        },
        "UnifiedApexValidator.sfSecurityToken": {
          "type": "string",
          "default": "",
          "description": "Token de seguridad"
        },
        "UnifiedApexValidator.sfClientId": {
          "type": "string",
          "default": "",
          "description": "Client ID de la Connected App"
        },
        "UnifiedApexValidator.sfClientSecret": {
          "type": "string",
          "default": "",
          "description": "Client Secret de la Connected App"
        },
        "UnifiedApexValidator.sfDomain": {
          "type": "string",
          "default": "test.salesforce.com",
          "description": "Dominio de Salesforce"
        },
        "UnifiedApexValidator.sfOrgAlias": {
          "type": "string",
          "default": "DEVSEGC",
          "description": "Alias de la organización"
        },
        "UnifiedApexValidator.sfRepositoryDir": {
          "type": "string",
          "default": "",
          "description": "Directorio local del repositorio Apex"
        },
        "UnifiedApexValidator.skipIAAnalysis": {
          "type": "boolean",
          "default": false,
          "description": "Omitir análisis IA"
        },
        "UnifiedApexValidator.sfGptEndpoint": {
          "type": "string",
          "default": "https://api.salesforce.com/einstein/platform",
          "description": "Endpoint IA Einstein GPT"
        },
        "UnifiedApexValidator.sfGptModel": {
          "type": "string",
          "default": "sfdc_ai__DefaultOpenAIGPT4OmniMini",
          "description": "Modelo de IA"
        },
        "UnifiedApexValidator.iaPromptTemplate": {
          "type": "string",
          "default": "Analiza el código Apex en busca de riesgos y optimizaciones.",
          "description": "Prompt base para IA"
        },
        "UnifiedApexValidator.sfCliPath": {
          "type": "string",
          "default": "sf",
          "description": "Ruta CLI de Salesforce"
        },
        "UnifiedApexValidator.pmdPath": {
          "type": "string",
          "default": "pmd",
          "description": "Ruta ejecutable de PMD"
        },
        "UnifiedApexValidator.outputDir": {
          "type": "string",
          "default": "",
          "description": "Directorio donde se guardarán los reportes"
        }
      }
    }
  },
  "files": [
    "dist",
    "media",
    "resources/templates",
    "node_modules/fs-extra",
    "node_modules/universalify",
    "node_modules/graceful-fs",
    "node_modules/jsonfile",
    "node_modules/nunjucks",
    "node_modules/html-pdf-node",
    "node_modules/axios",
    "node_modules/fast-xml-parser",
    "node_modules/winston",
    "node_modules/dotenv"
  ],
  "vsce": {
    "dependencies": true
  },
  "dependencies": {
    "axios": "^1.12.2",
    "dotenv": "^17.2.3",
    "execa": "^9.6.0",
    "fast-xml-parser": "^5.3.0",
    "fs-extra": "^11.3.2",
    "html-pdf-node": "^1.0.7",
    "markdown-it": "^14.1.0",
    "nunjucks": "^3.2.4",
    "typescript": "^5.9.3",
    "winston": "^3.18.3"
  },
  "devDependencies": {
    "@types/fs-extra": "^11.0.4",
    "@types/html-pdf-node": "^1.0.2",
    "@types/nunjucks": "^3.2.6",
    "@types/vscode": "^1.104.0",
    "@vscode/test-electron": "^2.5.2",
    "@vscode/vsce": "^3.6.2",
    "esbuild": "^0.25.10"
  }
}
